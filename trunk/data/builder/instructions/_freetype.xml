<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<!-- $Id$ -->

<pack name="freetype" license="BSD">
  <meta>
    <homepage>http://www.freetype.org/</homepage>
    <download>http://sourceforge.net/projects/freetype/</download>
    <download>http://download.savannah.gnu.org/releases/freetype/</download>
    <descriptions>
      <description lang="en" type="short"></description>
      <description lang="en" type="long">The FreeType project develops free, portable and high-quality software solutions for digital typography.</description>
      <description lang="de" type="short"></description>
      <description lang="de" type="long"></description>
    </descriptions>
    <keywords>freetype</keywords>
  </meta>

  <comments>
http://download.savannah.gnu.org/releases/freetype/ft2demos-2.5.2.tar.gz
http://download.savannah.gnu.org/releases/freetype/freetype-doc-2.5.2.tar.gz
  </comments>

  <set version="2.5.2" date="2014-12-08" state="works">

    <options>
      <option name="bzip2" import-if-pos="bzip2"
              para-if-neu=""
              para-if-pos=""
              para-if-neg="--without-bzip2"
              info="do not support bzip2 compressed fonts" />
      <option name="zlib" import-if-pos="zlib"
              para-if-neu=""
              para-if-pos=""
              para-if-neg="--without-zlib"
              info="use internal zlib instead of system-wide" />
      <option name="libpng" import-if-pos="libpng"
              para-if-neu=""
              para-if-pos=""
              para-if-neg="--without-png"
              info="do not support png compressed OpenType embedded bitmaps" />
    </options>

    <downloads>
      <download file="freetype-2.5.2.tar.bz2">
        <url type="sourceforge" checked="2014-01-13">http://sourceforge.net/projects/freetype/files/freetype2/2.5.2/freetype-2.5.2.tar.bz2/download</url>
        <url type="direct" checked="2014-01-13">http://download.savannah.gnu.org/releases/freetype/freetype-2.5.2.tar.bz2</url>
        <hash type="CRC32"></hash>
        <hash type="MD5"></hash>
        <hash type="SHA1"></hash>
        <hash type="SHA512"></hash>
        <hash type="RIPEMD256"></hash>
        <size></size>
      </download>
    </downloads>

    <commands>
PACKAGE_NAME=freetype
PACKAGE_VERSION=2.5.2

oegimport bzip2
oegimport zlib
oegimport libpng

oegextract freetype

configure --prefix=${OEG_BASE_DIR} --with-gnu-ld


--disable-rpath --bindir=${OEG_BASE_BIN_DIR} --libdir=${OEG_BASE_LIB_DIR} ${CONFIGURE_HOST_PARA}


make
make install DESTDIR=${OEG_INSTALL_DIR}

cd ${OEG_INSTALL_DIR}/${OEG_BASE_DIR}
<if64bits>
mv bin/*.dll bin64/
rm -rf bin
# TODO: Do we need to edit the .la files in lib64?
</if64bits>
oegarchive ${PACKAGE_NAME}-${PACKAGE_VERSION}
    </commands>
  </set>
</pack>

